<% @calendar_access = CalendarAccess.new %>

<% if @calendar_access.errors.any? %>
  <% @calendar_access.errors.full_messages.each do |message| %>
    <div class="alert alert-dismissable alert-danger">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
      <%= message %>
    </div>
  <% end %>
<% end %>

<div class="collapse" id="share_calendar_form">
<div class="row">
  <div class="col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Share Calendar</h3>
      </div>
      <div class="panel-body">
        <form action="/create_calendar_access" method="post" class="form-horizontal">
          <!-- Hidden input for authenticity token to protect from forgery -->
          <input name="authenticity_token" type="hidden" value="<%= form_authenticity_token %>">
          <div class="form-group">
            <input type="hidden" id="calendar_id" name="calendar_id" placeholder="Calendar" class="form-control" value="<%= @calendar.id %>">
          </div>
          <div class="form-group">
            <label for="user_id" class="col-sm-3 control-label">
              <h5>Share Calendar With</h5>
            </label>
            <div class="col-sm-9">
            <%= select_tag(:user_id, options_from_collection_for_select(User.all, :id, :email, @calendar_access.user_id), :class => "form-control") %>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-3 col-sm-9">
              <button class="btn btn-success">
                Share Calendar
              </button>
              or
              <a <a data-toggle="collapse" data-target="#share_calendar_form" aria-expanded="false" aria-controls="collapseExample" href="#">Cancel</a>
            </div>
          </div>
        </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- End responsive panel example -->
